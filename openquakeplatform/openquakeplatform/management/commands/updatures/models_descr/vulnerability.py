from updatures.classes import backinheritance, model_refs, model_description, models_descr
 
# vulnerability models
models_descr['vulnerability.qrsempirical'] = model_description(
    'vulnerability.qrsempirical',
    None,
    {'owner': model_refs('auth.user', False),
     'fragility_func': model_refs('vulnerability.fragilityfunc', False),
     'vulnerability_func': model_refs('vulnerability.vulnerabilityfunc', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.qrsanalytical'] = model_description(
    'vulnerability.qrsanalytical',
    None,
    {'owner': model_refs('auth.user', False),
     'fragility_func':     model_refs('vulnerability.fragilityfunc', False),
     'vulnerability_func': model_refs('vulnerability.vulnerabilityfunc', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.statmodel'] = model_description(
    'vulnerability.statmodel',
    None,
    {'owner': model_refs('auth.user', False),})

models_descr['vulnerability.statmodelfittingmethod'] = model_description(
    'vulnerability.statmodelfittingmethod',
    None,
    {'owner': model_refs('auth.user', False),})

models_descr['vulnerability.modelfittingmethodassumption'] = model_description(
    'vulnerability.modelfittingmethodassumption',
    None,
    {'owner': model_refs('auth.user', False),})

models_descr['vulnerability.fitassessmentgoodness'] = model_description(
    'vulnerability.fitassessmentgoodness',
    None,
    {'owner': model_refs('auth.user', False),})

models_descr['vulnerability.procconstrint'] = model_description(
    'vulnerability.procconstrint',
    None,
    {'owner': model_refs('auth.user', False),})

models_descr['vulnerability.statisticalinformation'] = model_description(
    'vulnerability.statisticalinformation',
    None,
    {'owner': model_refs('auth.user', False),
     'fragility_func':              model_refs('vulnerability.fragilityfunc', False),
     'vulnerability_func':          model_refs('vulnerability.vulnerabilityfunc', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.empiricalmodelinfo'] = model_description(
    'vulnerability.empiricalmodelinfo',
    None,
    {'owner': model_refs('auth.user', False),
     'fragility_func':     model_refs('vulnerability.fragilityfunc', False),
     'vulnerability_func': model_refs('vulnerability.vulnerabilityfunc', False),},
    group="vulnerability.generalinformation")

models_descr['vulnerability.analysistype'] = model_description(
    'vulnerability.analysistype',
    None,
    {'owner': model_refs('auth.user', False),})

models_descr['vulnerability.analyticalmodelinfo'] = model_description(
    'vulnerability.analyticalmodelinfo',
    None,
    {'owner': model_refs('auth.user', False),
     'fragility_func':     model_refs('vulnerability.fragilityfunc', False),
     'vulnerability_func': model_refs('vulnerability.vulnerabilityfunc', False)},
    group="vulnerability.generalinformation")

models_descr['vulnerability.cc_analysistype'] = model_description(
    'vulnerability.cc_analysistype',
    None,
    {'owner': model_refs('auth.user', False),})

models_descr['vulnerability.cc_analyticalmodelinfo'] = model_description(
    'vulnerability.cc_analyticalmodelinfo',
    None,
    {'owner': model_refs('auth.user', False),
     'capacity_curve_func': model_refs('vulnerability.capacitycurvefunc', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.country'] = model_description(
    'vulnerability.country',
    None,
    {}, pk_natural=True,
    )

models_descr['vulnerability.geoapplicability'] = model_description(
    'vulnerability.geoapplicability',
    None,
    {'owner': model_refs('auth.user', False),
     'general_information': model_refs('vulnerability.generalinformation', False),
     'countries':           model_refs('vulnerability.country', True)},
    group="vulnerability.generalinformation")

models_descr['vulnerability.taxonomytype'] = model_description(
    'vulnerability.taxonomytype',
    None,
    {'owner': model_refs('auth.user', False),})

models_descr['vulnerability.cc_predictorvar'] = model_description(
    'vulnerability.cc_predictorvar',
    None,
    {'owner': model_refs('auth.user', False),
     'capacity_curve_func': model_refs('vulnerability.capacitycurvefunc', False)},
    group="vulnerability.generalinformation")

models_descr['vulnerability.capacitycurvefunc'] = model_description(
    'vulnerability.capacitycurvefunc',
    None,
    {'owner': model_refs('auth.user', False),
     'general_information': model_refs('vulnerability.generalinformation', False)},
    group="vulnerability.generalinformation")

models_descr['vulnerability.funcdistrdtldiscr'] = model_description(
    'vulnerability.funcdistrdtldiscr',
    None,
    {'owner': model_refs('auth.user', False),
     'damage_to_loss_func': model_refs('vulnerability.damagetolossfunc', False)},
    group="vulnerability.generalinformation")

models_descr['vulnerability.damagetolossfunc'] = model_description(
    'vulnerability.damagetolossfunc',
    None,
    {'owner': model_refs('auth.user', False),
     'general_information': model_refs('vulnerability.generalinformation', False)},
    group="vulnerability.generalinformation")

models_descr['vulnerability.funcdistrvulncont'] = model_description(
    'vulnerability.funcdistrvulncont',
    None,
    {'owner': model_refs('auth.user', False),
     'vulnerability_func': model_refs('vulnerability.vulnerabilityfunc', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.funcdistrvulndiscr'] = model_description(
    'vulnerability.funcdistrvulndiscr',
    None,
    {'owner': model_refs('auth.user', False),
     'vulnerability_func': model_refs('vulnerability.vulnerabilityfunc', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.evaluationofim'] = model_description(
    'vulnerability.evaluationofim',
    None,
    {'owner': model_refs('auth.user', False),})

models_descr['vulnerability.predictorvar'] = model_description(
    'vulnerability.predictorvar',
    None,
    {'owner': model_refs('auth.user', False),
     'vulnerability_func': model_refs('vulnerability.vulnerabilityfunc', False),
     'fragility_func':     model_refs('vulnerability.fragilityfunc', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.vulnerabilityfunc'] = model_description(
    'vulnerability.vulnerabilityfunc',
    None,
    {'owner': model_refs('auth.user', False),
     'general_information': model_refs('vulnerability.generalinformation', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.funcdistrfragcont'] = model_description(
    'vulnerability.funcdistrfragcont',
    None,
    {'owner': model_refs('auth.user', False),
     'fragility_func':     model_refs('vulnerability.fragilityfunc', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.funcdistrfragdiscr'] = model_description(
    'vulnerability.funcdistrfragdiscr',
    None,
    {'owner': model_refs('auth.user', False),
     'fragility_func':     model_refs('vulnerability.fragilityfunc', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.engineeringdemandpar'] = model_description(
    'vulnerability.engineeringdemandpar',
    None,
    {'owner': model_refs('auth.user', False),})

models_descr['vulnerability.fragilityfunc'] = model_description(
    'vulnerability.fragilityfunc',
    None,
    {'owner': model_refs('auth.user', False),
     'general_information':    model_refs('vulnerability.generalinformation', False),
     },
    group="vulnerability.generalinformation")

models_descr['vulnerability.generalinformation'] = model_description(
    'vulnerability.generalinformation',
    lambda i: [ i['fields']['name'] ],
    {'owner': model_refs('auth.user', False),})

