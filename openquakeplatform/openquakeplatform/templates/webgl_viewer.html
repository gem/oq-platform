<!--
Copyright (c) 2014, GEM Foundation.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/agpl.html>.
-->
{% extends "data_viewer_base.html" %}

{% block title %}
IRV - {{block.super}}
{% endblock %}

{% block map_tools %}
{{block.super}}


{% endblock %}

{% block body_outer %}
{{block.super}}
<link rel="stylesheet" href="{{ STATIC_URL }}css/absolute_center_spinner.css" />
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.11.1/mapbox-gl.css' rel='stylesheet' />
{% endblock %}


{% block middle %}
{{block.super}}
<div id="absoluteSpinner" class="loading">Loading&#8230;</div>
<div id="map"></div>
<div>
  <div id="errorDialog" title="Error" style="overflow: hidden;"></div>
</div>

{% endblock middle %}
{% block extra_script %}
    {{block.super}}
    <script>
    var mbToken = "{{ MAPBOXGL_KEY }}";
    /*
        // TODO add a custom help page here
        help=document.getElementById("help_url");
        if(typeof help !== "undefined") { help.href+='/irv/'; }
        */
    </script>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.11.1/mapbox-gl.js'></script>
    <script src="{{ STATIC_URL }}js/leaflet-mapbox-gl.js"></script>
    <script src="{{ STATIC_URL }}js/webgl_viewer.js"></script>
{% endblock extra_script %}
