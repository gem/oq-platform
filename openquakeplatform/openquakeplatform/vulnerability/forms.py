from chained_selectbox.forms import ChainedChoicesForm
from django import forms
from chained_selectbox.form_fields import ChainedChoiceField
from models import (PredictorVar,
                    CC_PredictorVar,
                    INTENSITY_MEASURE_TYPES,
                    ENGINEERING_DEMAND_PARAMETERS, )


class PredictorVarForm(ChainedChoicesForm):
    class Meta:
        model = PredictorVar
    intensity_measure_type = forms.ChoiceField(
        choices=INTENSITY_MEASURE_TYPES)
    intensity_measure_unit = ChainedChoiceField(
        parent_field='intensity_measure_type',
        ajax_url='/vulnerability/chainedselectchoices')


class CC_PredictorVarForm(ChainedChoicesForm):
    class Meta:
        model = CC_PredictorVar
    engineering_demand_par = forms.ChoiceField(
        choices=ENGINEERING_DEMAND_PARAMETERS)
    pred_var_units = ChainedChoiceField(
        parent_field='engineering_demand_par',
        ajax_url='/vulnerability/chainedselectchoices')
