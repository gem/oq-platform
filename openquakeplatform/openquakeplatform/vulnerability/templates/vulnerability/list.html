{% extends "site_base.html" %}
{% load i18n %}

{% block title %} {% trans page_title %} {% endblock title %}
{% block indexclass %} class="here" {% endblock indexclass %}
{% block body_class %}bodyclass{% endblock %}

{% block extra_head %}
<script type="text/javascript"><!--
var global_id = null;
function entry_select(obj, id)
{
    global_id = id;
    $("[id^='list_entry']").removeClass("list_entry_selected");
    $(obj).addClass("list_entry_selected");
}
//-->
</script>
<style>
body.bodyclass { height: 100%; margin: 0px; padding: 0px;}

div.liquid_content {
    position: absolute;
    width: 100%;
    top: 200px;
    bottom: 45px;
    background-color: #ffddff;
}

div.list_func_container {
    position: absolute;
    display: block;
    top: 0px;
    bottom: 0px;
    width: 25%;
    background-color: #f3f0ef;
    overflow: auto;
    border: 1px solid grey;
}

div.preview_container {
    position: absolute;
    width: 75%;
    right: 0px;
    top: 0px;
    bottom: 0px;
    background-color: #ffffff;
    border: 1px solid grey;
}

div.list_func {
    padding: 8px;
}

div.list_entry {
    color: #1b75a7;
    cursor: pointer;
}

div.list_entry:hover {
    text-decoration: underline;
}

div.list_entry_selected {
    background-color: white;
    color: black;
}

div.list_entry_selected:hover {
    background-color: white;
    color: black;
}

ul.vuln_menu
{
    float:left;
    width:100%;
    padding: 7px;
    margin:0;
    list-style-type:none;
    background-image: url('{{STATIC}}/static/img/OQ_header_bg.png');
    background-position: left bottom;
    border-bottom: 1px solid #1b75a7;
}

li.vuln_menu {
    display:inline;
    color: black;
    margin: 0px;
    padding: 8px;
}

li.vuln_menu_selected {
    display:inline;
    color: black;
    background-color: #ffffff;
    margin: 0px;
    padding: 8px;
    border: 1px solid #1b75a7;
    border-bottom: 1px solid white;
}

a.vuln_menu
{
    width:6em;
    color: #1b75a7;
    padding:0.2em 0.6em;
}

a.vuln_menu:hover {
    text-decoration:underline;
}

</style>
{{ block.super }}
{% endblock %}

{% block middle %}
    <div class="main">
      <ul class="vuln_menu">
        {% for toa_key,toa_value in types_of_assessment.items %}{% if toa_key == type_of_assessment %}<li class="vuln_menu_selected">{{toa_value}}</li>{% else %}<li class="vuln_menu"><a class="vuln_menu" href="?type_of_assessment={{toa_key}}">{{toa_value}}</a></li>{% endif %}{% endfor %}
      </ul>
      <div>here filters</div>
    </div>
    <div class="liquid_content">
      <div class="list_func_container">
        <div class="list_func">
          <!-- Geninfo  -->
          {% for gi_cur in geninfo %}
          <div id="list_entry" class="list_entry" onclick="entry_select(this, {{ gi_cur.id }});">{{ gi_cur }}</div>
          {% endfor %}
        </div>
      </div>
      <div class="preview_container">
        <input type="submit" value="Show" name="_show" onclick="if (global_id != null) { window.open('/vulnerability/view/'+global_id+'/', 'vulnerability_view_'+global_id); }; return false;"/>
      </div>
    </div>
{% endblock %}