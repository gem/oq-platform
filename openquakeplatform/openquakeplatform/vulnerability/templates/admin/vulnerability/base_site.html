{% extends "admin/vulnerability/base.html" %}
{% load i18n %}

{% block extrahead %}
      <link href="{{ STATIC_URL }}geonode/css/base.css" rel="stylesheet" />
      <link href='{{ STATIC_URL }}geonode/font/lato_font.css' rel='stylesheet' type='text/css' />
      <link href="{{ STATIC_URL }}geonode/css/ext-compatibility.css" rel="stylesheet" />
      <link href="{{ STATIC_URL }}lib/css/assets.min.css" rel="stylesheet"/>

      <link href="{{ STATIC_URL }}css/oqplatform.css" rel="stylesheet"/>
      <link rel="shortcut icon" href="{{ STATIC_URL }}img/favicon.ico"/>

      <script type="text/javascript" src="{% url "django.views.i18n.javascript_catalog" %}"></script>
      <script type="text/javascript" src="{% url "lang" %}"></script>

  <style type="text/css">

div#container {
   margin-top: 120px;
}

ul.social li {
   padding: 0;
}

ul.account-bar li {
    list-style-type: none;
    padding: 0;
    font-size: 13px;
}

.collapse {
    height: auto;
    overflow: visible;
    position: static;
    transition: all 0 ease 0;
}

.inline-related .inline {
    display: inline;
    margin-bottom: 0;
}


.inline-related input[type="checkbox"] {
    line-height: normal;
    vertical-align: text-bottom;
    margin: 0;
}

</style>
{% endblock extrahead %}

{% block title %}{{ title }} | {% trans 'Django site admin' %}{% endblock %}

{% block extra-nav %}
<li class="oqp-menu-item"><a href="{% url 'home' %}">Home</a></li>
<!-- TODO place this back when the customizable categories can be implemented
<li class="oqp-menu-item"><a href="{% url 'layer_browse' %}">Data</a></li>
-->
<li class="oqp-menu-item"><a href="{% url 'temp_data' %}">Data</a></li>

<!-- TODO place this back when the customizable categories can be implemented
<li class="oqp-menu-item"><a href="{% url 'maps_browse' %}">Maps</a></li>
-->
<li class="oqp-menu-item"><a href="{% url 'temp_maps' %}">Maps</a></li>

<li class="oqp-menu-item"><a href="{% url 'tools' %}">Tools</a></li>
<li class="oqp-menu-item"><a href="{% url 'profile_browse' %}">People</a></li>
<li class="oqp-menu-item"><a href="{% url 'documents_browse' %}">Documents</a></li>
{% endblock extra-nav %}


{% block branding %}
<h1 id="site-name">{% trans 'Django administration' %}</h1>
{% endblock %}

{% block nav-global %}{% endblock %}

{% block footer %}
    <div id="oq-page-footer">
    {{block.super}}
    </div>
{% endblock footer %}

{% block footer-script %}
    {% if DEBUG_STATIC %}
    <script src="{{ STATIC_URL }}lib/js/jquery.js"></script>
    <script src="{{ STATIC_URL }}lib/js/jquery.dataTables.js"></script>
    <script src="{{ STATIC_URL }}lib/js/jquery.timeago.js"></script>
    <script src="{{ STATIC_URL }}lib/js/jquery.ajaxprogress.js"></script>
    <script src="{{ STATIC_URL }}lib/js/jquery.ajaxQueue.js"></script>
    <script src="{{ STATIC_URL }}lib/js/jquery-ui.custom.js"></script>
    <script src="{{ STATIC_URL }}lib/js/jquery.raty.js"></script>
    <script src="{{ STATIC_URL }}lib/js/bootstrap.js"></script>
    <script src="{{ STATIC_URL }}lib/js/json2.js"></script>
    <script src="{{ STATIC_URL }}lib/js/select2.js"></script>
    <script src="{{ STATIC_URL }}lib/js/waypoints.js"></script>
    {% else %}
    <script src="{{ STATIC_URL }}lib/js/assets.min.js"></script>
    {% endif %}
    <script src="{{ STATIC_URL }}geonode/js/utils/utils.js"></script>
    <script src="{{ STATIC_URL }}geonode/js/base/base.js"></script>
    <script>
      $("#search").select2({
        minimumInputLength: 1,
        placeholder: 'Search...',
        width: 'element',
        ajax: {
          url: '{% url "search_api" %}',
          data: function(term,page){
            page = (page - 1) * 10;
            return {
              type: 'all',
              limit: 10,
              sort: 'none',
              start: page,
              q: term.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi, '')
            }
          },
          results: function(data, page) {
            var more = (page * 10) < data.total;
            return {
              results: $.map(data.results,function(object){
                return {id: object.id, text: object.title, url: object.detail };
              }),
              more: more
            }
          }
        },
        createSearchChoice:function(term, data) {
            term = term.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi, '');
            if ($(data).filter(function() {
                return this.text.localeCompare(term)===0; }).length===0) {
                    return {id:term, text:term};
                    }
        },
        formatSelection: function(item){
          if(item.url != undefined) {
            window.location.href = item.url;
          } else {
            $('#search').val(item.text);
            $('#search').parent().submit();
          };
        }
      });
    </script>

    {% block extra_script %}{% endblock extra_script %}

    <script type="text/javascript" src="{% url "django.views.i18n.javascript_catalog" %}"></script>
    <script type="text/javascript" src="{% url "lang" %}"></script>
    <style type="text/css">
      .select2-drop{
        color: black;
      }
    </style>
{% endblock footer-script %}
